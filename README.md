# News_Bot
## –°–µ—Ä–≤–µ—Ä News bot

**News Bot** ‚Äî —ç—Ç–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ –∏ —Ä–µ–∑—é–º–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–æ–≤–æ—Å—Ç–µ–π. –°–µ—Ä–≤–∏—Å –∏–∑–±–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —á–∏—Ç–∞—Ç—å –¥–µ—Å—è—Ç–∫–∏ –¥–ª–∏–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è –∫—Ä–∞—Ç–∫–∏–µ –≤—ã–∂–∏–º–∫–∏ (summary), —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Å –ø–æ–º–æ—â—å—é –Ω–µ–π—Ä–æ—Å–µ—Ç–µ–π.

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ, —Å–æ—á–µ—Ç–∞—é—â–µ–π –≤—ã—Å–æ–∫—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å FastAPI –∏ –º–æ—â—å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö NLP-–º–æ–¥–µ–ª–µ–π.

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
*   **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π —Å–±–æ—Ä:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–∏–Ω–≥ –Ω–æ–≤–æ—Å—Ç–µ–π –∏–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (RSS, HTML) –∫–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç.
*   **–ù–µ–π—Ä–æ—Å–µ—Ç–µ–≤–æ–µ —Ä–µ–∑—é–º–∏—Ä–æ–≤–∞–Ω–∏–µ:** –û—Ç–¥–µ–ª—å–Ω—ã–π ML-–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–æ–ª–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã —Å—Ç–∞—Ç–µ–π –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫—Ä–∞—Ç–∫—É—é —Å—É—Ç—å.
*   **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –ø–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—É—é –ª–µ–Ω—Ç—É.
*   **–ì–∏–±–∫–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è:** –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ—Å—Ç–µ–π –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º, —Ç–µ–º–∞–º, –ø–µ—Ä–∏–æ–¥–∞–º –≤—Ä–µ–º–µ–Ω–∏ –∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º.
*   **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º —á–µ—Ä–µ–∑ Email, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–∞ –±–∞–∑–µ JWT (Access & Refresh —Ç–æ–∫–µ–Ω—ã).
*   **–†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫:** –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –Ω–æ–≤–æ—Å—Ç–µ–π –ø–æ –∑–∞–ø—Ä–æ—Å—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
*   **Backend:** FastAPI (Python 3.12)
*   **Database:** PostgreSQL + SQLAlchemy (Async)
*   **Migrations:** Alembic
*   **Task Queue:** Celery + Celery Beat
*   **Message Broker:** Redis
*   **ML/NLP:** Transformers, PyTorch/ONNX (–≤ —Å–æ—Å—Ç–∞–≤–µ ML-–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞)
*   **DevOps:** Docker, Docker Compose
*   **Logging:** Structured logging (Rotating files & Console)

## –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
<img width="1061" height="681" alt="News_Bot_ER_diagram drawio" src="https://github.com/user-attachments/assets/85126cf9-171c-45ee-81ae-b21eebfa014f" />

## –î–∏–∞–≥—Ä–∞–º–º–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
<img width="521" height="506" alt="–î–∏–∞–≥—Ä–∞–º–º–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è drawio" src="https://github.com/user-attachments/assets/10f92547-91be-4a9c-8cbe-352f5636c05a" />


## ‚öôÔ∏è –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç (Pipeline)
1.  **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ (Celery Beat):** –ö–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç –∑–∞–¥–∞—á—É –Ω–∞ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.
2.  **–ü–∞—Ä—Å–µ—Ä (Worker):** –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ –∏–∑–≤–ª–µ–∫–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å –Ω–æ–≤–æ—Å—Ç–Ω—ã—Ö —Å–∞–π—Ç–æ–≤, —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã.
3.  **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç (ML Service):** –¢–µ–∫—Å—Ç —Å—Ç–∞—Ç—å–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å, –≥–¥–µ –º–æ–¥–µ–ª—å —Å—É–º–º–∞—Ä–∏–∑–∞—Ü–∏–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫—Ä–∞—Ç–∫–∏–π –ø–µ—Ä–µ—Å–∫–∞–∑.
4.  **–•—Ä–∞–Ω–µ–Ω–∏–µ:** –ì–æ—Ç–æ–≤–∞—è —Å—Ç–∞—Ç—å—è (–∑–∞–≥–æ–ª–æ–≤–æ–∫, –æ—Ä–∏–≥–∏–Ω–∞–ª, —Ä–µ–∑—é–º–µ, —Å—Å—ã–ª–∫–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ) —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î –∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º.


## Backend-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏:

 - **–†–µ–π–Ω–≤–∞–ª—å–¥ –û–ª–µ–≥ –ï–≤–≥–µ–Ω—å–µ–≤–∏—á**
 - **–ú–∏–Ω–∫–æ–≤—Å–∫–∏–π –í–∏—Ç–∞–ª–∏–π –í–∏–∫—Ç–æ—Ä–æ–≤–∏—á**


## –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Git**
- **Docker** (Docker Engine)
- **Docker Compose**

–í–∞–º **–Ω–µ** –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ Python –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ Docker.


## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É API

### 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ—Ä–Ω–µ–≤–æ–π —Ñ–∞–π–ª `.env` –¥–ª—è Docker Compose.

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª —Å –∏–º–µ–Ω–µ–º `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ (`News_Bot`) –∏ –∑–∞–ø—Ä–æ—Å–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞ —É —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤.

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç —Å –ø–æ–º–æ—â—å—é Docker

–í—ã–ø–æ–ª–Ω—è–π—Ç–µ –∫–æ–º–∞–Ω–¥—ã –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞ (`News_Bot`):

### 4. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ª—é–±–æ–π —Ä–∞–Ω–µ–µ –∑–∞–ø—É—â–µ–Ω–Ω—ã–π —Å—Ç–µ–∫ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

docker compose down || docker-compose down
### 5. –°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ

docker compose up --build -d
–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ:

- –°–æ–±–µ—Ä–µ—Ç –æ–±—Ä–∞–∑ –±—ç–∫–µ–Ω–¥–∞ –∏–∑ `news_bot_backend/Dockerfile`
- –°–æ–±–µ—Ä–µ—Ç –æ–±—Ä–∞–∑ ML-–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞ –∏–∑ `ml_service/Dockerfile`
- –ó–∞–ø—É—Å—Ç–∏—Ç:
  - `postgres` (PostgreSQL)
  - `redis`
  - `ml-service` (ML-–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å)
  - `api` (–±—ç–∫–µ–Ω–¥ FastAPI)
  - `worker` (Celery worker)
  - `beat` (–ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ Celery beat)



## –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º

- **Backend API (FastAPI)**:  
  `http://localhost:8000`
- **API docs (Swagger UI)**:  
  `http://localhost:8000/docs`
- **ML-–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å**:  
  `http://localhost:8100`
- **PostgreSQL** (—Å —Ö–æ—Å—Ç–∞):  
  - Host: `localhost`
  - Port: `5433`
  - Database: `newsbot`
  - User: `newsbot_admin`
  - Password: –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ `POSTGRES_PASSWORD` –≤ `.env`
- **Redis** (—Å —Ö–æ—Å—Ç–∞):  
  - Host: `localhost`
  - Port: `6379`



## –†–∞–±–æ—Ç–∞ —Å–æ Swagger UI

Swagger UI ‚Äî –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API, –¥–æ—Å—Ç—É–ø–Ω–∞—è –ø–æ –∞–¥—Ä–µ—Å—É `http://localhost:8000/docs` –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤.

### –û—Ç–∫—Ä—ã—Ç–∏–µ Swagger UI

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã (`docker compose ps`)
2. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `http://localhost:8000/docs`
3. –í—ã —É–≤–∏–¥–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö endpoints, —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ —Ç–µ–≥–∞–º (Authentication, profile, articles –∏ —Ç.–¥.)

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –≤ Swagger

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å –∑–∞—â–∏—â—ë–Ω–Ω—ã–º–∏ endpoints —Ç—Ä–µ–±—É–µ—Ç—Å—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è. –î–æ—Å—Ç—É–ø–Ω—ã –¥–≤–∞ —Å–ø–æ—Å–æ–±–∞:

#### –°–ø–æ—Å–æ–± 1: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ OAuth2 (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"Authorize"** –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É Swagger UI
2. –í –æ—Ç–∫—Ä—ã–≤—à–µ–º—Å—è –æ–∫–Ω–µ –≤—ã–±–µ—Ä–∏—Ç–µ **"OAuth2PasswordBearer"**
3. –í–≤–µ–¥–∏—Ç–µ:
   - **username**: –≤–∞—à –ª–æ–≥–∏–Ω –∏–ª–∏ email
   - **password**: –≤–∞—à –ø–∞—Ä–æ–ª—å
4. –ù–∞–∂–º–∏—Ç–µ **"Authorize"**, –∑–∞—Ç–µ–º **"Close"**
5. Swagger –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∏—Ç —Ç–æ–∫–µ–Ω –∏ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

#### –°–ø–æ—Å–æ–± 2: –†—É—á–Ω–æ–π –≤–≤–æ–¥ —Ç–æ–∫–µ–Ω–∞ (bearerAuth)

1. –°–Ω–∞—á–∞–ª–∞ –ø–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ endpoint `/api/v1/auth/login/`:
   - –û—Ç–∫—Ä–æ–π—Ç–µ `/api/v1/auth/login/` –≤ Swagger
   - –ù–∞–∂–º–∏—Ç–µ **"Try it out"**
   - –í–≤–µ–¥–∏—Ç–µ `username` –∏ `password` –≤ —Ñ–æ—Ä–º–∞—Ç–µ `application/x-www-form-urlencoded`
   - –ù–∞–∂–º–∏—Ç–µ **"Execute"**
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ `access` –∏–∑ –æ—Ç–≤–µ—Ç–∞
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"Authorize"** –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
3. –í—ã–±–µ—Ä–∏—Ç–µ **"bearerAuth"**
4. –í—Å—Ç–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω (–±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞ "Bearer")
5. –ù–∞–∂–º–∏—Ç–µ **"Authorize"**, –∑–∞—Ç–µ–º **"Close"**

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∑–∞—â–∏—â—ë–Ω–Ω—ã—Ö endpoints

–ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:
- –ó–∞—â–∏—â—ë–Ω–Ω—ã–µ endpoints –æ—Ç–º–µ—á–µ–Ω—ã –∑–Ω–∞—á–∫–æ–º üîí
- –¢–æ–∫–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- –í—ã –º–æ–∂–µ—Ç–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å –ª—é–±—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (GET, POST, PUT, PATCH, DELETE)

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API —á–µ—Ä–µ–∑ Swagger

1. –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–π endpoint
2. –ù–∞–∂–º–∏—Ç–µ **"Try it out"**
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
4. –ù–∞–∂–º–∏—Ç–µ **"Execute"**
5. –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ:
   - **Response body** ‚Äî —Ç–µ–ª–æ –æ—Ç–≤–µ—Ç–∞
   - **Response headers** ‚Äî –∑–∞–≥–æ–ª–æ–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞
   - **Curl** ‚Äî –∫–æ–º–∞–Ω–¥–∞ curl –¥–ª—è –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞
   - **Request URL** ‚Äî –ø–æ–ª–Ω—ã–π URL –∑–∞–ø—Ä–æ—Å–∞

